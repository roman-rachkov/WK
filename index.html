<html>
<head>
<style>

</style>
</head>
<body>

<pre id="copyable-div" class="copyable" style="font-weight:bold;">
NAP: 

<span id="dnot841">Do not attack 841 occupying turrets/Hub!!</span>
</pre>

    <div id="napcaution" style="color:#f00;">
    </div>

<div id="battleInstructions"></div>

<h1>1st Shift Hub</h1>
<table>
<tr>
<td rowspan="1000" class="firstShift"><p>Hub/실험 기지/実験基地/Центр/Centre<br/>
<div class="firstShift timepart"></div></p></td>
<td></td>
<td class="widetd">Name</td>
<td>March</td>
</tr>
<tr><td>Captain</td><td>(WAK)Eroc</td><td>565000</td></tr>
<tr><td></td><td>(ANA)くま五郎 ᯫ•ω•ᯫ</td><td>308500</td></tr>
<tr><td></td><td>(KOR)광검</td><td>254900</td></tr>
<tr><td></td><td>(PRG)taro0783</td><td>247800</td></tr>
<tr><td></td><td>(WAK)Sikamin A</td><td>244000</td></tr>
<tr><td></td><td>(PRG)ノラノル</td><td>286000</td></tr>
<tr><td></td><td>(NEW)★͜ᴺᴱᵂ⁀➷あああ</td><td>226800</td></tr>
<tr><td></td><td>(MwA)Player 3</td><td>337000 (if he can)</td></tr>
<tr><td></td><td>(TOP)༺ༀCтасяༀ༻</td><td>Максимум, что вы можете отправить</td></tr>
<tr><td></td><td>(Pyc)ИринаIrina</td><td>100 тыс. или полный.</td></tr>
</table>

<h1>1st Shift East</h1>
<table>
<tr>
<td rowspan="1000" class="firstShift"><p>East/동/東/Восток/Est<br/>
<div class="firstShift timepart"></div></p></td>
<td></td>
<td class="widetd">Name</td>
<td>March</td>
</tr>
<tr><td>Captain</td><td>(WAK)OctaviaFaraday</td><td>402000</td></tr>
<tr><td></td><td>(KOR)ㅣ청풍ㅣ</td><td>420000</td></tr>
<tr><td></td><td>(BnB)RW_VRN</td><td>351000</td></tr>
<tr><td></td><td>(BnB)ههه๖ēllคههه</td><td>319200</td></tr>
<tr><td></td><td>(DIK(#29))♡Mimi♡</td><td>305500</td></tr>
<tr><td></td><td>(BnB)ᖽᐸᓍᒪᓰ9ᘉ</td><td>70000</td></tr>
<tr><td></td><td>(BnB)ГРИГОЛИС</td><td>70000</td></tr>
<tr><td></td><td>(FLC)Persikana</td><td>70000</td></tr>
<tr><td></td><td>(RIP)Reginilya</td><td>70000</td></tr>
<tr><td></td><td>(BnB)LewKrKr</td><td>70000</td></tr>
<tr><td></td><td>(KOR)환생캐</td><td>70000</td></tr>
</table>

<h1>1st Shift North</h1>
<table>
<tr>
<td rowspan="1000" class="firstShift"><p>North/북/北/Север/Nord<br/>
<div class="firstShift timepart"></div></p></td>
<td></td>
<td class="widetd">Name</td>
<td>March</td>
</tr>
<tr><td>Captain</td><td>(NOT)Rehabboy</td><td>362300</td></tr>
<tr><td></td><td>(PRG)ᴾᴿᴳ ꓄ꄲꀤ꒝ꀿꀤ</td><td>333800</td></tr>
<tr><td></td><td>(BnB)ᴮⁿᴮ воин①</td><td>314500</td></tr>
<tr><td></td><td>(NOT)MotherJugSpeed</td><td>200000</td></tr>
<tr><td></td><td>(Lex)Lex Distr1</td><td>230000</td></tr>
<tr><td></td><td>(KOR)누룽z</td><td>243700</td></tr>
<tr><td></td><td>(ANA)ココロ</td><td>267000 (South if it doesn't fit)</td></tr>
<tr><td></td><td>(MIR)Ясра</td><td>236000</td></tr>
</table>

<h1>1st Shift South</h1>
<table>
<tr>
<td rowspan="1000" class="firstShift"><p>South/남/南/Юг/Sud<br/>
<div class="firstShift timepart"></div></p></td>
<td></td>
<td class="widetd">Name</td>
<td>March</td>
</tr>
<tr><td>Captain</td><td>(ANA)ネヲ</td><td>482000</td></tr>
<tr><td></td><td>(WAK)BananaTime</td><td>420000</td></tr>
<tr><td></td><td>(FLC)VenyaPooh</td><td>216100</td></tr>
<tr><td></td><td>(NEW)大田征之</td><td>251500</td></tr>
<tr><td></td><td>(WAK)Sikaω</td><td>357500</td></tr>
<tr><td></td><td>(BnB)ᴮⁿᴮ ღРокуღ</td><td>271800</td></tr>
<tr><td></td><td>(WAK)☆킬☆</td><td>280000</td></tr>
<tr><td></td><td>(NEW)༺★͜ᴺᴱᵂMaros༻</td><td>237900</td></tr>
</table>

<h1>1st Shift West</h1>
<table>
<tr>
<td rowspan="1000" class="firstShift"><p>West/서/西/Запад/Ouest<br/>
<div class="firstShift timepart"></div></p></td>
<td></td>
<td class="widetd">Name</td>
<td>March</td>
</tr>
<tr><td>Captain</td><td>(TOP)AlexSanLenivec</td><td>391000</td></tr>
<tr><td></td><td>(KOR)ⓚⓞⓡ 한ㆍ</td><td>390000</td></tr>
<tr><td></td><td>(PRG)Rulenye_ルルナイ</td><td>347000</td></tr>
<tr><td></td><td>(NEW)みう†††</td><td>293000</td></tr>
<tr><td></td><td>(NEW)★͜ᴺᴱᵂ⁀なますて</td><td>276600</td></tr>
<tr><td></td><td>(PRG)yasuta3</td><td>260900</td></tr>
</table>

<h1>2nd Shift Hub</h1>
<table>
<tr>
<td rowspan="1000" class="secondShift"><p>Hub/실험 기지/実験基地/Центр/Centre<br/>
<div class="secondShift timepart"></div></p></td>
<td></td>
<td class="widetd">Name</td>
<td>March</td>
</tr>
<tr><td>Captain</td><td>(WAK)Eroc</td><td>565000</td></tr>
<tr><td></td><td>(DIK(#29))Flip Flop Life</td><td>301000</td></tr>
<tr><td></td><td>(WAK)MrStrangles</td><td>283000</td></tr>
<tr><td></td><td>(RIP)Зомбилэнд</td><td>250000</td></tr>
<tr><td></td><td>(TOP)+БЕС+</td><td>244000</td></tr>
<tr><td></td><td>(BnB)BnB ꧁ZₐNₒZₐ꧂</td><td>233600</td></tr>
<tr><td></td><td>(TOP)MalogBal</td><td>228000</td></tr>
<tr><td></td><td>(BnB)Hᴏᴛ࿇Farmৡ⁰²</td><td>395000</td></tr>
</table>

<h1>2nd Shift East</h1>
<table>
<tr>
<td rowspan="1000" class="secondShift"><p>East/동/東/Восток/Est<br/>
<div class="secondShift timepart"></div></p></td>
<td></td>
<td class="widetd">Name</td>
<td>March</td>
</tr>
<tr><td>Captain</td><td>(WAK)OctaviaFaraday</td><td>402000</td></tr>
<tr><td></td><td>(BnB)Ꮶiηøð</td><td>307200</td></tr>
<tr><td></td><td>(NOT)KrellRazor</td><td>336000</td></tr>
<tr><td></td><td>(ANA)もみ売り巨ちん軍</td><td>328000</td></tr>
<tr><td></td><td>(DIK(#29))Tequilero01</td><td>288500</td></tr>
<tr><td></td><td>(DIK(#29))Bigbrandish</td><td>272000</td></tr>
<tr><td></td><td>(DIK(#29))Fùçk Its Vamp</td><td>259500</td></tr>
</table>

<h1>2nd Shift North</h1>
<table>
<tr>
<td rowspan="1000" class="secondShift"><p>North/북/北/Север/Nord<br/>
<div class="secondShift timepart"></div></p></td>
<td></td>
<td class="widetd">Name</td>
<td>March</td>
</tr>
<tr><td>Captain</td><td>(NOT)Rehabboy</td><td>362300</td></tr>
<tr><td></td><td>(DIK(#29))Commander Who</td><td>323500</td></tr>
<tr><td></td><td>(TOP)Сергей.1983</td><td>266000</td></tr>
<tr><td></td><td>(RIP)sanek61rus</td><td>225000</td></tr>
<tr><td></td><td>(TOP)Вячеслав М.</td><td>301500</td></tr>
<tr><td></td><td>(BnB)ALLкаш</td><td>250000</td></tr>
<tr><td></td><td>(WAK)bruiselee</td><td>200000</td></tr>
</table>

<h1>2nd Shift South</h1>
<table>
<tr>
<td rowspan="1000" class="secondShift"><p>South/남/南/Юг/Sud<br/>
<div class="secondShift timepart"></div></p></td>
<td></td>
<td class="widetd">Name</td>
<td>March</td>
</tr>
<tr><td>Captain</td><td>(ANA)ネヲ</td><td>482000</td></tr>
<tr><td></td><td>(WAK)BananaTime</td><td>420000</td></tr>
<tr><td></td><td>(PRG)Rulenye_ルルナイ</td><td>150000</td></tr>
<tr><td></td><td>(DBR)☆Ведьма</td><td>205100</td></tr>
<tr><td></td><td>(BnB)Hᴏᴛ࿇Farmৡ⁰³ (Rider)</td><td>325500</td></tr>
<tr><td></td><td>(PRG)OIC_YOssy</td><td>317000</td></tr>
<tr><td></td><td>(NOT)MotherJugSpeed</td><td>238900</td></tr>
<tr><td></td><td>(DIK(#29))ErinGerg</td><td>250300</td></tr>
<tr><td></td><td>(ANA)DIVE</td><td>313500</td></tr>
<tr><td></td><td>(EG0)ВАЛЛ-И</td><td>200000</td></tr>
</table>

<h1>2nd Shift West</h1>
<table>
<tr>
<td rowspan="1000" class="secondShift"><p>West/서/西/Запад/Ouest<br/>
<div class="secondShift timepart"></div></p></td>
<td></td>
<td class="widetd">Name</td>
<td>March</td>
</tr>
<tr><td>Captain</td><td>(TOP)AlexSanLenivec</td><td>391000</td></tr>
<tr><td></td><td>(DIK(#29))SPAWN</td><td>287000</td></tr>
<tr><td></td><td>(Lex)Ksuxxi</td><td>250000</td></tr>
<tr><td></td><td>(NOT)Hisoka</td><td>249500</td></tr>
<tr><td></td><td>(BnB)Я_СЛУЧАЙНО</td><td>237400</td></tr>
<tr><td></td><td>(MIR)Kapsul8000</td><td>230000</td></tr>
<tr><td></td><td>(NEW)★ᴺᴱᵂ➷ミントママ</td><td>216900</td></tr>
<tr><td></td><td>(EG0)папаДен</td><td>100000</td></tr>
</table>



<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<hr/>



<script>
function wkTime() {
  // 日本時間の19:00を設定
  const japanTime = new Date();
  japanTime.setUTCHours(10, 0, 0, 0); // 日本時間19:00はUTC 10:00

  // ブラウザの現地時間に変換
  const browserTime = new Date(japanTime.toLocaleString("en-US", {timeZone: Intl.DateTimeFormat().resolvedOptions().timeZone}));

  // 時刻のフォーマット
  const options = { hour: '2-digit', minute: '2-digit', hour12: false };
  const formattedTime = browserTime.toLocaleTimeString([], options);

  return formattedTime;
}

//Quick stupidity over reusability!!

function secondShift() {
  // 日本時間の19:00を設定
  const japanTime = new Date();
  japanTime.setUTCHours(14, 0, 0, 0); // 日本時間19:00はUTC 10:00

  // ブラウザの現地時間に変換
  const browserTime = new Date(japanTime.toLocaleString("en-US", {timeZone: Intl.DateTimeFormat().resolvedOptions().timeZone}));

  // 時刻のフォーマット
  const options = { hour: '2-digit', minute: '2-digit', hour12: false };
  const formattedTime = browserTime.toLocaleTimeString([], options);

  return formattedTime;
}

function wkEnd() {
  // 日本時間の19:00を設定
  const japanTime = new Date();
  japanTime.setUTCHours(18, 0, 0, 0); // 日本時間19:00はUTC 10:00

  // ブラウザの現地時間に変換
  const browserTime = new Date(japanTime.toLocaleString("en-US", {timeZone: Intl.DateTimeFormat().resolvedOptions().timeZone}));

  // 時刻のフォーマット
  const options = { hour: '2-digit', minute: '2-digit', hour12: false };
  const formattedTime = browserTime.toLocaleTimeString([], options);

  return formattedTime;
}


/*
window.addEventListener("load", (event) => {
  //開始
  var firstList = document.getElementsByClassName("firstShift timepart");
  var secondList = document.getElementsByClassName("secondShift timepart");

  for(var i = 0; i < firstList.length; i++){
     for(var ii = 0; ii < 30; ii++){
        firstList[i].innerHTML += wkTime() + "～" + secondShift()+"<br/>";
     }
 }

  for(var i = 0; i < secondList.length; i++){
     for(var ii = 0; ii < 30; ii++){
        secondList[i].innerHTML += secondShift() + "～" + wkEnd()+"<br/>";
     }
  }
});
*/


function adjustShiftCellsHeight() {
  // 全ての 'firstShift' と 'secondShift' クラスを持つセルを取得
  const shiftCells = document.querySelectorAll('td[class^="firstShift"], td[class^="secondShift"]');
  
  // テーブル内の他のセルの最大の高さを取得
  let maxHeight = 0;
  const allCells = document.querySelectorAll('td:not([class^="firstShift"]):not([class^="secondShift"])');
  allCells.forEach(cell => {
    // インライン高さスタイルをリセット
    cell.style.height = '';
    maxHeight = Math.max(maxHeight, cell.offsetHeight);
  });

  // シフトセルの高さを調整
  shiftCells.forEach(cell => {
    // 元の内容の高さを保存
    const originalHeight = cell.offsetHeight;
    // 高さを設定
    cell.style.height = Math.max(maxHeight, originalHeight) + 'px';
    cell.style.overflow = 'hidden';
  });
}

function adjustRowspan() {
  const shiftCells = document.querySelectorAll('td[class^="firstShift"], td[class^="secondShift"]');
  shiftCells.forEach(cell => {
    const table = cell.closest('table');
    const rowCount = table.rows.length;
    cell.setAttribute('rowspan', rowCount);
    if(cell.className=="firstShift"){
        cell.innerHTML += "<div style='font-weight:normal'>";
        for(var i =0; i < rowCount; i++){
           cell.innerHTML += wkTime() + "～" + secondShift()+"<br/>";
        }
        cell.innerHTML += "</div>";         
    }
    if(cell.className=="secondShift"){
        cell.innerHTML += "<div style='font-weight:normal'>";
        for(var i =0; i < rowCount; i++){
           cell.innerHTML += secondShift() + "～" + wkEnd()+"<br/>";;
        }
        cell.innerHTML += "</div>";  
    }
  });
}

// adjustShiftCellsHeight 関数の前に実行
document.addEventListener('DOMContentLoaded', () => {
  adjustRowspan();
  adjustShiftCellsHeight();
  console.log("aaaaa");
});

function colorShiftText() {
    const softBlue = '#4682B4';  // スティールブルー
    const softRed = '#CD5C5C';   // インディアンレッド

    function wrapTextWithColor(node, text, color) {
        const regex = new RegExp(`\\b${text}\\b`, 'g');
        if (node.nodeType === Node.TEXT_NODE) {
            if (regex.test(node.textContent)) {
                const wrapper = document.createElement('span');
                wrapper.innerHTML = node.textContent.replace(regex, `<span style="color: ${color};">$&</span>`);
                node.parentNode.replaceChild(wrapper, node);
            }
        } else if (node.nodeType === Node.ELEMENT_NODE && !['SCRIPT', 'STYLE'].includes(node.nodeName)) {
            Array.from(node.childNodes).forEach(child => wrapTextWithColor(child, text, color));
        }
    }

    function processNode(node) {
        wrapTextWithColor(node, '1st', softBlue);
        wrapTextWithColor(node, '2nd', softRed);
    }

    processNode(document.body);
}

// DOMの読み込みが完了したら実行
document.addEventListener('DOMContentLoaded', colorShiftText);
</script>

    <script>
    const translations = {
        'en': `・If you do not have a full march (For example, only sending 50000), you may leave when the shift is over, if the battle isn't intense.You can leave the alliance immediately too so you can make up the space for next shift.

・Person with T10 or higher troop is recommended to have heroes just in case the captain have to leave to refill or attack other state.

・If your name isn't on the list, please ask your other alliance members with T9 or below to make up their own shift internally.

・I've also added rally size for each players at the bottom of the page. Please use this to decide who to be captain, if there is any problem occured.`,
        
        'ru': `・Если у вас нет полного марша (например, отправляете только 50000), вы можете уйти по окончании смены, если битва не интенсивная.Вы также можете немедленно покинуть альянс, чтобы освободить место для следующей смены.

・Лицам с войсками T10 или выше рекомендуется иметь героев на случай, если капитану придется уйти для пополнения или атаки другого государства.

・Если вашего имени нет в списке, пожалуйста, попросите других членов альянса с T9 или ниже организовать свою внутреннюю смену.

・Я также добавил размер митинга для каждого игрока в нижней части страницы. Пожалуйста, используйте это, чтобы решить, кто будет капитаном, если возникнут какие-либо проблемы.`,
        
        'ko': `・전체 행군이 없는 경우(예: 50000만 보내는 경우), 전투가 치열하지 않다면 교대가 끝나면 떠나도 됩니다.다음 교대를 위한 공간을 만들기 위해 즉시 동맹을 떠날 수도 있습니다.

・T10 이상의 부대를 가진 사람은 대장이 보충하거나 다른 주를 공격하기 위해 떠나야 할 경우를 대비해 영웅을 갖추는 것이 좋습니다.

・목록에 이름이 없으면 T9 이하의 다른 동맹 멤버에게 내부적으로 자체 교대를 만들어달라고 요청하세요.

・페이지 하단에 각 선수의 랠리 규모도 추가했습니다. 문제가 발생하면 이를 사용하여 주장을 결정해 주세요.`,
        
        'ja': `・フルマーチでない場合（例：50000のみ送る場合）、戦闘が激しくなければ、シフトが終わったら即離れてもかまいません。後がつかえるので、砲台から出たら即８４１から抜けていただいてかまいません。

・T10以上の部隊を持つ人は、キャプテンが補充や他の州への攻撃のために離れなければならない場合に備えて、英雄も送る事をお勧めします。

・リストに名前がない場合は、T9以下の他のギルドメンバーと相談して、内々で独自のシフトを作ってください。

・ページの下部に各プレイヤーのギャザー規模も追加しました。問題が発生した場合、これを使用してキャプテンを決定してください。`,
  
        'fr': `・Si vous n'avez pas une marche complète (par exemple, en n'envoyant que 50000), vous pouvez partir à la fin du quart si la bataille n'est pas intense.Vous pouvez également quitter l'alliance immédiatement pour libérer de l'espace pour le prochain quart.

・Il est recommandé aux personnes ayant des troupes de niveau T10 ou supérieur d'avoir des héros au cas où le capitaine devrait partir pour se ravitailler ou attaquer un autre État.

・Si votre nom n'est pas sur la liste, veuillez demander à vos autres membres de l'alliance de niveau T9 ou inférieur d'organiser leur propre quart de travail en interne.

・J'ai également ajouté la taille du rassemblement pour chaque joueur au bas de la page. Veuillez utiliser ceci pour décider qui sera capitaine en cas de problème.`,
        
        'zh-CN': `・如果你没有满员行军（例如，只派遣50000），如果战斗不激烈，你可以在轮班结束时离开。你也可以立即离开联盟，为下一班次腾出空间。

・拥有T10或更高级别部队的人，建议准备英雄，以防队长必须离开补给或攻击其他州。

・如果你的名字不在名单上，请要求你的其他T9或以下级别的联盟成员在内部自行安排轮班。

・我还在页面底部添加了每位选手的集会规模。如果出现任何问题，请使用这个来决定谁来担任队长。`,
        
        'zh-TW': `・如果你沒有滿員行軍（例如，只派遣50000），如果戰鬥不激烈，你可以在輪班結束時離開。你也可以立即離開聯盟，為下一班次騰出空間。

・擁有T10或更高級別部隊的人，建議準備英雄，以防隊長必須離開補給或攻擊其他州。

・如果你的名字不在名單上，請要求你的其他T9或以下級別的聯盟成員在內部自行安排輪班。

・我還在頁面底部添加了每位選手的集會規模。如果出現任何問題，請使用這個來決定誰來擔任隊長。`
    };

    function setLanguage() {
        const userLang = navigator.language || navigator.userLanguage;
        const lang = userLang.split('-')[0];
        const content = translations[lang] || translations[userLang] || translations['en'];
        document.getElementById('battleInstructions').innerText = "";//content;
    }

    setLanguage();
    </script>

<style>
.widetd{
   width:300px;
}

p{
  font-weight:bold;
}

.timepart{
  font-weight:normal;
}

td{
  border:1px black solid;
  max-height:40px;
}

.firstShift, .secondShift {
  vertical-align: top; /* 上揃えにする場合 */
  overflow:hidden;
  width:330px !important;
  max-width:330px;
  max-height:auto;
}

</style>

<style>
.copyable {
  background-color: #f0f0f0;
  border: 1px solid #ccc;
  border-radius: 5px;
  padding: 10px;
  cursor: pointer;
  transition: background-color 0.3s;
}
.copyable:hover {
  background-color: #e0e0e0;
}
.copyable:active {
  background-color: #d0d0d0;
}
</style>

<script>
var copying = 0;
document.getElementById('copyable-div').addEventListener('click', function() {
  if(copying > 0){return;}
  const text = this.textContent.replace(/\t/g, '');
  navigator.clipboard.writeText(text).then(() => {
    const originalText = this.textContent;
    this.textContent = 'copied!';
    copying = 1;
    setTimeout(() => {
      this.textContent = originalText;
      copying = 0;
    }, 1000);
  });
});
</script>

</body>
</html>